webpackJsonp([3],{387:function(e,t,n){"use strict";function o(e){n(430)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(432),s=n(433),a=n(30),l=o,r=a(i.a,s.a,l,null,null);t.default=r.exports},430:function(e,t,n){var o=n(431);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(377)("d1e6aff6",o,!0)},431:function(e,t,n){t=e.exports=n(376)(!0),t.push([e.i,".zh-setting-box{padding:15px;margin-bottom:40px}.zh-setting-box .sort-title{padding-bottom:10px;border-bottom:1px solid #00bbfb;color:#00bbfb;font-weight:400;font-size:20px}.zh-setting-uploader{display:inline-block;border:1px dashed #787878;border-radius:6px;cursor:pointer;overflow:hidden}.zh-setting-uploader:hover{border-color:#00bbfb}.zh-setting-uploader i,.zh-setting-uploader img{width:175px;height:175px}.zh-setting-uploader i{font-size:36px;color:#8c939d;line-height:175px;text-align:center}.zh-setting-block{margin:15px 0;font-size:14px}.zh-setting-auth{padding:20px 0 0 20px}.zh-setting-auth .auth-item{padding:0 20px;cursor:pointer}.zh-setting-auth .auth-item:hover i{color:#00bbfb}.zh-setting-auth .auth-item i{color:#787878;font-size:36px}","",{version:3,sources:["/Users/wangzhihui/Documents/main-projects/kizun/src/client/views/user/setting.vue"],names:[],mappings:"AACA,gBACE,aAAc,AACd,kBAAoB,CACrB,AACD,4BACE,oBAAqB,AACrB,gCAAiC,AACjC,cAAe,AACf,gBAAiB,AACjB,cAAgB,CACjB,AACD,qBACE,qBAAsB,AACtB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,eAAiB,CAClB,AACD,2BACE,oBAAsB,CACvB,AAKD,gDAHE,YAAa,AACb,YAAc,CASf,AAPD,uBACE,eAAgB,AAChB,cAAe,AAGf,kBAAmB,AACnB,iBAAmB,CACpB,AACD,kBACE,cAAe,AACf,cAAgB,CACjB,AACD,iBACE,qBAAuB,CACxB,AACD,4BACE,eAAgB,AAChB,cAAgB,CACjB,AACD,oCACE,aAAe,CAChB,AACD,8BACE,cAAe,AACf,cAAgB,CACjB",file:"setting.vue",sourcesContent:["\n.zh-setting-box {\n  padding: 15px;\n  margin-bottom: 40px;\n}\n.zh-setting-box .sort-title {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #00bbfb;\n  color: #00bbfb;\n  font-weight: 400;\n  font-size: 20px;\n}\n.zh-setting-uploader {\n  display: inline-block;\n  border: 1px dashed #787878;\n  border-radius: 6px;\n  cursor: pointer;\n  overflow: hidden;\n}\n.zh-setting-uploader:hover {\n  border-color: #00bbfb;\n}\n.zh-setting-uploader img {\n  width: 175px;\n  height: 175px;\n}\n.zh-setting-uploader i {\n  font-size: 36px;\n  color: #8c939d;\n  width: 175px;\n  height: 175px;\n  line-height: 175px;\n  text-align: center;\n}\n.zh-setting-block {\n  margin: 15px 0;\n  font-size: 14px;\n}\n.zh-setting-auth {\n  padding: 20px 0 0 20px;\n}\n.zh-setting-auth .auth-item {\n  padding: 0 20px;\n  cursor: pointer;\n}\n.zh-setting-auth .auth-item:hover i {\n  color: #00bbfb;\n}\n.zh-setting-auth .auth-item i {\n  color: #787878;\n  font-size: 36px;\n}"],sourceRoot:""}])},432:function(e,t,n){"use strict";var o=n(38),i=n.n(o),s=n(22);t.a={name:"settingView",data:function(){return{authLists:["phone","email","wechat","qq","sina"],newInfo:{infoName:"",infoNickname:"",infoAvatar:"",infoSex:"",infoBirthday:"",infoAddress:""},infoIcons:{phone:"el-icon-circle-check",email:"el-icon-message",wechat:"el-icon-circle-check",qq:"el-icon-time",sina:"el-icon-view"}}},computed:i()({},Object(s.mapGetters)(["info","authList","sureModelVal"])),methods:i()({},Object(s.mapMutations)(["setSureModel","setLoginModel"]),Object(s.mapActions)(["updateInfo"]),{handleAvatarSuccess:function(e,t){console.log("success"),console.log(e),console.log(t),console.log(URL.createObjectURL(t.raw)),this.newInfo.infoAvatar=e.filePath},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},removeAuthHandle:function(e){if(this.authList.length<2)return void this.$message({showClose:!0,message:"你只有一种登录途径，不能再删除",type:"warning"});this.setSureModel({show:!0,content:"确定要删除 "+e+" 登录途径吗？",action:"removeAuth",params:[e]})},addAuthHandle:function(e){this.setLoginModel({show:!0,type:"add"})},updateInfoHandle:function(){if(!this.newInfo.infoNickname||!this.newInfo.infoSex)return void this.$message({showClose:!0,message:"昵称或性别不能为空",type:"warning"});this.updateInfo(i()({},this.newInfo,{infoBirthday:this.newInfo.infoBirthday.getTime()}))}}),created:function(){this.Merge(this.newInfo,this.info),this.newInfo.infoBirthday=new Date(Number(this.newInfo.infoBirthday))}}},433:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"setting"}},[n("div",{staticClass:"zh-setting-box"},[n("h2",{staticClass:"sort-title"},[e._v("基本信息")]),e._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-upload",{staticClass:"zh-setting-uploader",attrs:{action:"http://localhost:3000/upload?avatar","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"with-credentials":!0,accept:"image/*"}},[e.newInfo.infoAvatar?n("img",{attrs:{src:e.newInfo.infoAvatar}}):n("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),n("el-col",{attrs:{span:16}},[n("el-row",{staticClass:"zh-setting-block"},[n("el-col",{attrs:{span:5}},[e._v("名字")]),e._v(" "),n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{placeholder:"请输入你的名字"},model:{value:e.newInfo.infoName,callback:function(t){e.newInfo.infoName=t},expression:"newInfo.infoName"}})],1)],1),e._v(" "),n("el-row",{staticClass:"zh-setting-block"},[n("el-col",{attrs:{span:5}},[e._v("昵称")]),e._v(" "),n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{placeholder:"请输入你的昵称"},model:{value:e.newInfo.infoNickname,callback:function(t){e.newInfo.infoNickname=t},expression:"newInfo.infoNickname"}})],1)],1),e._v(" "),n("el-row",{staticClass:"zh-setting-block"},[n("el-col",{attrs:{span:5}},[e._v("性别")]),e._v(" "),n("el-col",{attrs:{span:16}},[[n("el-radio",{staticClass:"radio",attrs:{label:"保密"},model:{value:e.newInfo.infoSex,callback:function(t){e.newInfo.infoSex=t},expression:"newInfo.infoSex"}},[e._v("保密")]),e._v(" "),n("el-radio",{staticClass:"radio",attrs:{label:"男"},model:{value:e.newInfo.infoSex,callback:function(t){e.newInfo.infoSex=t},expression:"newInfo.infoSex"}},[e._v("男")]),e._v(" "),n("el-radio",{staticClass:"radio",attrs:{label:"女"},model:{value:e.newInfo.infoSex,callback:function(t){e.newInfo.infoSex=t},expression:"newInfo.infoSex"}},[e._v("女")])]],2)],1),e._v(" "),n("el-row",{staticClass:"zh-setting-block"},[n("el-col",{attrs:{span:5}},[e._v("生日")]),e._v(" "),n("el-col",{attrs:{span:16}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",editable:!1,clearable:!1,value:e.newInfo.infoBirthday},model:{value:e.newInfo.infoBirthday,callback:function(t){e.newInfo.infoBirthday=t},expression:"newInfo.infoBirthday"}})],1)],1),e._v(" "),n("el-row",{staticClass:"zh-setting-block"},[n("el-col",{attrs:{span:5}},[e._v("住址")]),e._v(" "),n("el-col",{attrs:{span:16}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newInfo.infoAddress,expression:"newInfo.infoAddress"}],staticClass:"zh-textarea",attrs:{placeholder:"请输入你的住址"},domProps:{value:e.newInfo.infoAddress},on:{input:function(t){t.target.composing||(e.newInfo.infoAddress=t.target.value)}}})])],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:6,offset:18}},[n("el-button",{attrs:{type:"primary"},on:{click:e.updateInfoHandle}},[e._v("保存")])],1)],1)],1)],1),e._v(" "),n("h2",{staticClass:"sort-title"},[e._v("账号信息")]),e._v(" "),n("div",{staticClass:"zh-setting-auth"},[n("el-row",[n("el-col",{attrs:{span:4}},[e._v("已绑定")]),e._v(" "),n("el-col",{attrs:{span:20}},e._l(e.authList,function(t){return n("span",{staticClass:"auth-item",on:{click:function(n){e.removeAuthHandle(t)}}},[n("i",{class:e.infoIcons[t]})])}))],1),e._v(" "),n("el-row",{staticClass:"zh-setting-block"},[n("el-col",{attrs:{span:6,offset:18}},[n("el-button",{attrs:{type:"text"},on:{click:e.addAuthHandle}},[e._v("添加登录途径 "),n("i",{staticClass:"el-icon-plus"})])],1)],1)],1)],1)])},i=[],s={render:o,staticRenderFns:i};t.a=s}});
//# sourceMappingURL=3.js.map